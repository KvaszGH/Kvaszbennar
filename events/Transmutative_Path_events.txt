
namespace = transmutative_path

country_event = { #Clearing invalid saved church aspects
	id = transmutative_path.0
	title = none
	desc = none
	picture = none
	is_triggered_only = yes
	hidden = yes

	immediate = {
		if = {
			limit = { has_country_flag = transmutative_path_saved_slot_0 }
			transmutative_path_clear_aspect_slot = { slot = 0 }
		}
		if = {
			limit = { has_country_flag = transmutative_path_saved_slot_1 }
			transmutative_path_clear_aspect_slot = { slot = 1 }
		}
		if = {
			limit = { has_country_flag = transmutative_path_saved_slot_2 }
			transmutative_path_clear_aspect_slot = { slot = 2 }
		}
	}

	option = {
		name = none
	}
}

province_event = { #For conquering a Chi Wellspring, destroy it unless conditions are right
	id = transmutative_path.3
	title = transmutative_path.3.t
	desc = transmutative_path.3.d
	picture = BIG_STAR_IN_SKY_eventPicture

	is_triggered_only = yes
	hidden = yes

	trigger = { province_has_chi_wellspring_trigger = yes }

	immediate = {
		owner = { save_event_target_as = province_owner_target }
		if = {
			limit = { owner = { mission_completed = tp_xiaken_bathed_chi } }
			add_province_modifier = { name = xiaken_bathed_chi_mod duration = -1 }
		}

		if = {
			limit = {
				OR = {
					owner = { NOT = { religion = transmutative_path } }
					any_neighbor_province = {
						owned_by = event_target:province_owner_target
						province_has_chi_wellspring_trigger = yes
					}
				}
			}
			transmutative_path_destroy_chi_wellspring_effect = { owner_scope = event_target:province_owner_target }
			owner = { country_event = { id = transmutative_path.4 } }
		}
	}

	option = {
		name = transmutative_path.3.a
	}
}

country_event = { #Chi Overload
	id = transmutative_path.4
	title = transmutative_path.4.t
	desc = transmutative_path.4.d
	picture = BIG_STAR_IN_SKY_eventPicture

	is_triggered_only = yes

	trigger = { religion = transmutative_path }

	option = {
		name = transmutative_path.4.a
		custom_tooltip = chi_overload_tt
	}
}

country_event = { #Minor Chi Overload
	id = transmutative_path.5
	title = transmutative_path.5.t
	desc = transmutative_path.5.d
	picture = BIG_STAR_IN_SKY_eventPicture

	is_triggered_only = yes

	trigger = { religion = transmutative_path }

	option = {
		name = transmutative_path.5.a
		custom_tooltip = minor_chi_overload_tt
	}
}
